<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with Tuning Parameters • dials</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="Working with Tuning Parameters">
<meta property="og:description" content="dials">
<meta property="og:image" content="https://dials.tidymodels.org/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">dials</a>
        <div class="info">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.6</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/Basics.html">Basic Usage</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/dials/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Basics_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working with Tuning Parameters</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/dials/blob/master/vignettes/Basics.Rmd"><code>vignettes/Basics.Rmd</code></a></small>
      <div class="hidden name"><code>Basics.Rmd</code></div>

    </div>

    
    
<div id="tuning-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#tuning-parameters" class="anchor"></a>Tuning Parameters</h2>
<p>Some statistical and machine learning models contain <em>tuning parameters</em> (also known as <em>hyperparameters</em>), which are parameters that cannot be directly estimated by the model. An example would be the number of neighbors in a <em>K</em>-nearest neighbors model. To determine reasonable values of these elements, some indirect method is used such as resampling or profile likelihood. Search methods, such as genetic algorithms or Bayesian search can also be used to <a href="https://github.com/topepo/Optimization-Methods-for-Tuning-Predictive-Models">determine good values</a>.</p>
<p>In any case, some information is needed to create a grid or to validate whether a candidate value is appropriate (i.e. neighbors should be a positive integer). <code>dials</code> is designed to:</p>
<ul>
<li>Create an easy to use framework for describing and querying tuning parameters. this can include getting sequences or random tuning values, validating current values, transforming parameters, and other tasks.</li>
<li>Standardize the names of different parameters. Different packages in R use different argument names for the same quantities. <code>dials</code> proposes some standardized names so that the user doesn’t need to memorize the syntactical minutiae of every package.</li>
<li>Work with the <a href="https://topepo.github.io/parsnip/"><code>parsnip</code></a> package which is a modern attempt to standardize the interfaces for specific models across R packages and computational engines.</li>
<li>Adhere to <a href="https://cran.r-project.org/package=tidyverse/vignettes/manifesto.html">tidy principals</a>.</li>
</ul>
<p>The main type of objects in <code>dials</code> have class <code>param</code>.</p>
</div>
<div id="parameters-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#parameters-objects" class="anchor"></a><code>parameters</code> Objects</h2>
<p><code>parameters</code> objects contain information about possible values, ranges, types, and other aspects. There are two main subclasses related to the type of variable. Double and integer valued data have the subclass “quant_param” while character and logicals have “qual_param.” There are some common elements for each:</p>
<ul>
<li>Labels are strings that describe the parameter (e.g. “Number of Components”)</li>
<li>Defaults are optional single values that can be set when one non-random value is requested.</li>
</ul>
<p>Otherwise, the information contained in <code>parameters</code> objects are different for different data types.</p>
<div id="numeric-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#numeric-parameters" class="anchor"></a>Numeric Parameters</h3>
<p>An example of a numeric tuning parameter is the cost-complexity parameter of CART trees, otherwise known as <span class="math inline">\(C_p\)</span>. A parameter object for <span class="math inline">\(C_p\)</span> can be created in <code>dials</code> using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dials)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>()</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#&gt; Cost-Complexity Parameter  (quantitative)</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt; Transformer:  log-10 </span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt; Range (transformed scale): [-10, -1]</span></span></code></pre></div>
<p>Note that this parameter is handled in log units and the default range of values is between <code>10^-10</code> and <code>0.1</code>. The range of possible values can be returned and changed based on some utility functions. We’ll use the pipe operator here:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/range_validate.html">range_get</a></span>()</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; $lower</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt; [1] 1e-10</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt; </span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; $upper</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; [1] 0.1</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/range_validate.html">range_set</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">1</span>))</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt; Cost-Complexity Parameter  (quantitative)</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt; Transformer:  log-10 </span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt; Range (transformed scale): [-5, 1]</span></span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co"># Or using the `range` argument</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co"># during creation</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>(<span class="dt">range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">1</span>))</span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">#&gt; Cost-Complexity Parameter  (quantitative)</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">#&gt; Transformer:  log-10 </span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">#&gt; Range (transformed scale): [-5, 1]</span></span></code></pre></div>
<p>Values for this parameter can be obtained in a few different ways. To get a sequence of values that span the range:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Natural units:</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_seq</a></span>(<span class="dt">n =</span> <span class="dv">4</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; [1] 1e-10 1e-07 1e-04 1e-01</span></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co"># Stay in the transformed space:</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_seq</a></span>(<span class="dt">n =</span> <span class="dv">4</span>, <span class="dt">original =</span> <span class="ot">FALSE</span>)</span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; [1] -10  -7  -4  -1</span></span></code></pre></div>
<p>Random values can be sampled too. A random uniform distribution is used (between the range values). Since this parameter has a transformation associated with it, the values are simulated in the transformed scale and then returned in the natural units (although the <code>original</code> argument can be used here):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">5473</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_sample</a></span>(<span class="dt">n =</span> <span class="dv">4</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; [1] 6.91e-09 8.46e-04 3.45e-06 5.90e-10</span></span></code></pre></div>
<p>For CART trees, there is a discrete set of values that exist for a given data set. It may be a good idea to assign these possible values to the object. We can get them by fitting an initial <code>rpart</code> model and then adding the values to the object. For <code>mtcars</code>, there are only three values:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rpart)</span>
<span id="cb5-2"><a href="#cb5-2"></a>cart_mod &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart</a></span>(mpg <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> mtcars, <span class="dt">control =</span> <span class="kw"><a href="https://rdrr.io/pkg/rpart/man/rpart.control.html">rpart.control</a></span>(<span class="dt">cp =</span> <span class="fl">0.000001</span>))</span>
<span id="cb5-3"><a href="#cb5-3"></a>cart_mod<span class="op">$</span>cptable</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;         CP nsplit rel error xerror  xstd</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; 1 0.643125      0     1.000  1.064 0.258</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; 2 0.097484      1     0.357  0.687 0.180</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; 3 0.000001      2     0.259  0.576 0.126</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>cp_vals &lt;-<span class="st"> </span>cart_mod<span class="op">$</span>cptable[, <span class="st">"CP"</span>]</span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co"># We should only keep values associated with at least one split:</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>cp_vals &lt;-<span class="st"> </span>cp_vals[ cart_mod<span class="op">$</span>cptable[, <span class="st">"nsplit"</span>] <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> ]</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co"># Here the specific Cp values, on their natural scale, are added:</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>mtcars_cp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_set</a></span>(cp_vals)</span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; Error: Some values are not valid: 0.09748...</span></span></code></pre></div>
<p>The error occurs because the values are not in the transformed scale:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>mtcars_cp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/trees.html">cost_complexity</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_set</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(cp_vals))</span>
<span id="cb6-2"><a href="#cb6-2"></a>mtcars_cp</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; Cost-Complexity Parameter  (quantitative)</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; Transformer:  log-10 </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; Range (transformed scale): [-10, -1]</span></span></code></pre></div>
<p>Now, if a sequence or random sample is requested, it uses the set values:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mtcars_cp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_seq</a></span>(<span class="dv">2</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; [1] 0.097484 0.000001</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># Sampling specific values is done with replacement</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>mtcars_cp <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">  </span><span class="kw"><a href="../reference/value_validate.html">value_sample</a></span>(<span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/table.html">table</a></span>()</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; .</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt;              1e-06 0.0974840733898344 </span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;                  9                 11</span></span></code></pre></div>
</div>
<div id="discrete-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#discrete-parameters" class="anchor"></a>Discrete Parameters</h3>
<p>In the discrete case there is no notion of a range. The parameter objects are defined by their discrete values. For example, consider a parameter for the types of kernel functions that is used with distance functions:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw"><a href="../reference/weight_func.html">weight_func</a></span>()</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">#&gt; Distance Weighting Function  (qualitative)</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt; 10 possible value include:</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#&gt; 'rectangular', 'triangular', 'epanechnikov', 'biweight', 'triweight', 'cos', ...</span></span></code></pre></div>
<p>The helper functions are analogues to the quantitative parameters:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># redefine values</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw"><a href="../reference/weight_func.html">weight_func</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_set</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"rectangular"</span>, <span class="st">"triangular"</span>))</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt; Distance Weighting Function  (qualitative)</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; 2 possible value include:</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; 'rectangular' and 'triangular'</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="kw"><a href="../reference/weight_func.html">weight_func</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_sample</a></span>(<span class="dv">3</span>)</span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt; [1] "cos"         "rectangular" "triweight"</span></span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co"># the sequence is returned in the order of the levels</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="kw"><a href="../reference/weight_func.html">weight_func</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/value_validate.html">value_seq</a></span>(<span class="dv">3</span>)</span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt; [1] "rectangular"  "triangular"   "epanechnikov"</span></span></code></pre></div>
</div>
</div>
<div id="creating-novel-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-novel-parameters" class="anchor"></a>Creating Novel Parameters</h2>
<p>The package contains two constructors that can be used to create new quantitative and qualitative parameters. The examples for <code><a href="../reference/mtry.html">mtry()</a></code> and <code><a href="../reference/activation.html">activation()</a></code> contain examples of the code to create the parameters contained in the package.</p>
</div>
<div id="unknown-values" class="section level2">
<h2 class="hasAnchor">
<a href="#unknown-values" class="anchor"></a>Unknown Values</h2>
<p>There are some cases where the range of parameter values are data dependent. For example, the upper bound on the number of neighbors cannot be known if the number of data points in the training set is not known. For that reason, some parameters have an <em>unknown</em> placeholder:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw"><a href="../reference/mtry.html">mtry</a></span>()</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt; # Randomly Selected Predictors  (quantitative)</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt; Range: [1, ?]</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="kw"><a href="../reference/trees.html">sample_size</a></span>()</span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">#&gt; # Observations Sampled  (quantitative)</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#&gt; Range: [?, ?]</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="kw"><a href="../reference/num_comp.html">num_terms</a></span>()</span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co">#&gt; # Model Terms  (quantitative)</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co">#&gt; Range: [1, ?]</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="kw"><a href="../reference/num_comp.html">num_comp</a></span>()</span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">#&gt; # Components  (quantitative)</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">#&gt; Range: [1, ?]</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co"># and so on</span></span></code></pre></div>
<p>These values must be initialized prior to generating parameter values. The <code><a href="../reference/finalize.html">finalize()</a></code> methods can be used to help remove the unknowns:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="../reference/finalize.html">finalize</a></span>(<span class="kw"><a href="../reference/mtry.html">mtry</a></span>(), <span class="dt">x =</span> mtcars[, <span class="dv">-1</span>])</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt; # Randomly Selected Predictors  (quantitative)</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt; Range: [1, 10]</span></span></code></pre></div>
</div>
<div id="parameter-sets" class="section level2">
<h2 class="hasAnchor">
<a href="#parameter-sets" class="anchor"></a>Parameter Sets</h2>
<p>These are collection of parameters used in a model, recipe, or other object. They can also be created manually and can have alternate identification fields:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>glmnet_set &lt;-<span class="st"> </span><span class="kw"><a href="../reference/parameters.html">parameters</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">lambda =</span> <span class="kw"><a href="../reference/penalty.html">penalty</a></span>(), <span class="dt">alpha =</span> <span class="kw"><a href="../reference/mixture.html">mixture</a></span>()))</span>
<span id="cb12-2"><a href="#cb12-2"></a>glmnet_set</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt; Collection of 2 parameters for tuning</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt; </span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt;      id parameter type object class</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt;  lambda        penalty    nparam[+]</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt;   alpha        mixture    nparam[+]</span></span>
<span id="cb12-8"><a href="#cb12-8"></a></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co"># can be updated too</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="kw"><a href="https://rdrr.io/r/stats/update.html">update</a></span>(glmnet_set, <span class="dt">alpha =</span> <span class="kw"><a href="../reference/mixture.html">mixture</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(.<span class="dv">3</span>, <span class="fl">.6</span>)))</span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">#&gt; Collection of 2 parameters for tuning</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co">#&gt; </span></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co">#&gt;      id parameter type object class</span></span>
<span id="cb12-14"><a href="#cb12-14"></a><span class="co">#&gt;  lambda        penalty    nparam[+]</span></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="co">#&gt;   alpha        mixture    nparam[+]</span></span></code></pre></div>
<p>These objects can be very helpful when creating tuning grids.</p>
</div>
<div id="parameter-grids" class="section level2">
<h2 class="hasAnchor">
<a href="#parameter-grids" class="anchor"></a>Parameter Grids</h2>
<p>Sets or combinations of parameters can be created for use in grid search. <code><a href="../reference/grid_regular.html">grid_regular()</a></code>, <code><a href="../reference/grid_regular.html">grid_random()</a></code>, <code><a href="../reference/grid_max_entropy.html">grid_max_entropy()</a></code>, and <code><a href="../reference/grid_max_entropy.html">grid_latin_hypercube()</a></code> take any number of <code>param</code> objects or a parameter set.</p>
<p>For example, for a glmnet model, a regular grid might be:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="../reference/grid_regular.html">grid_regular</a></span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="kw"><a href="../reference/mixture.html">mixture</a></span>(),</span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="kw"><a href="../reference/penalty.html">penalty</a></span>(),</span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="dt">levels =</span> <span class="dv">3</span> <span class="co"># or c(3, 4), etc</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>)</span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt; # A tibble: 9 x 2</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt;   mixture      penalty</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt;     &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt; 1     0   0.0000000001</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#&gt; 2     0.5 0.0000000001</span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt; 3     1   0.0000000001</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt; 4     0   0.00001     </span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt; 5     0.5 0.00001     </span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt; 6     1   0.00001     </span></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="co">#&gt; 7     0   1           </span></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="co">#&gt; 8     0.5 1           </span></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co">#&gt; 9     1   1</span></span></code></pre></div>
<p>and, similarly, a random grid is created using</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">1041</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="kw"><a href="../reference/grid_regular.html">grid_random</a></span>(</span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="kw"><a href="../reference/mixture.html">mixture</a></span>(),</span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="kw"><a href="../reference/penalty.html">penalty</a></span>(),</span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="dt">size =</span> <span class="dv">6</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>)</span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co">#&gt; # A tibble: 6 x 2</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co">#&gt;   mixture     penalty</span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt;     &lt;dbl&gt;       &lt;dbl&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt; 1   0.200 0.0176     </span></span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="co">#&gt; 2   0.750 0.000388   </span></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="co">#&gt; 3   0.191 0.000000159</span></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co">#&gt; 4   0.929 0.00000176 </span></span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="co">#&gt; 5   0.143 0.0442     </span></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="co">#&gt; 6   0.973 0.0110</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="tidyverse">
  <p>dials is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
</div>

  


  </body>
</html>
